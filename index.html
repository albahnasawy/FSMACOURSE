<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุณูุงูุฉ ุงูุบุฐุงุก - Right Advisor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: A thematic, dashboard-style SPA. The structure is designed for non-linear exploration, allowing users (junior staff or managers) to jump to relevant sections like 'Fundamentals', 'HACCP in Practice', or 'Daily Tools' via a sticky navigation bar. This is more user-friendly than the original report's linear 3-session format, promoting quick access to information and interactive learning through clickable cards, diagrams, and quizzes. -->
    <!-- Visualization & Content Choices: Report Info (e.g., 3 Hazard Types) -> Goal (Inform) -> Viz (Icon Cards) -> Interaction (Click to expand) -> Justification (Easy comparison). Report Info (Temp. Danger Zone) -> Goal (Warn) -> Viz (Chart.js Bar Chart) -> Interaction (Static visual) -> Justification (Impactful visual representation). Report Info (Quizzes) -> Goal (Assess) -> Viz (Interactive Quiz UI) -> Interaction (Click answers, get feedback) -> Justification (Active learning). This approach uses the best interactive method for each piece of content. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #F8F7F4;
            color: #3D405B;
        }
        .bg-primary { background-color: #4A6C6F; }
        .text-primary { color: #4A6C6F; }
        .bg-secondary { background-color: #E07A5F; }
        .text-secondary { color: #E07A5F; }
        .bg-accent { background-color: #F2CC8F; }
        .text-accent { color: #F2CC8F; }
        .card {
            background-color: #FFFFFF;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #EAEAEA;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
            padding-bottom: 4px;
        }
        .nav-link:hover, .nav-link.active {
            color: #E07A5F;
            border-bottom-color: #E07A5F;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .step-connector {
            flex-grow: 1;
            height: 2px;
            background-color: #D1D5DB;
        }
        .step.active .step-circle {
            background-color: #4A6C6F;
            color: white;
            border-color: #4A6C6F;
        }
        .step.active .step-connector {
            background-color: #4A6C6F;
        }
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header id="header" class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <img src="https://res.cloudinary.com/dvqik0oco/image/upload/v1753625098/logo2-02_black_emfhdj.png" alt="ุดุนุงุฑ Right Advisor" class="h-12 ml-4">
                <h1 class="text-xl md:text-2xl font-bold text-primary">ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุณูุงูุฉ ุงูุบุฐุงุก</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6 lg:space-x-10">
                <a href="#fundamentals" class="nav-link text-lg">ุงูุฃุณุงุณูุงุช</a>
                <a href="#journey" class="nav-link text-lg">ุฑุญูุฉ ุงูุทุนุงู</a>
                <a href="#haccp" class="nav-link text-lg">ุงููุงุณุจ</a>
                <a href="#management" class="nav-link text-lg">ุงูุฅุฏุงุฑุฉ</a>
                <a href="#tools" class="nav-link text-lg">ุงูุฃุฏูุงุช</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-primary focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#fundamentals" class="block py-2 text-center nav-link">ุงูุฃุณุงุณูุงุช</a>
            <a href="#journey" class="block py-2 text-center nav-link">ุฑุญูุฉ ุงูุทุนุงู</a>
            <a href="#haccp" class="block py-2 text-center nav-link">ุงููุงุณุจ</a>
            <a href="#management" class="block py-2 text-center nav-link">ุงูุฅุฏุงุฑุฉ</a>
            <a href="#tools" class="block py-2 text-center nav-link">ุงูุฃุฏูุงุช</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <!-- Section 1: Fundamentals -->
        <section id="fundamentals" class="mb-24 text-center">
            <h2 class="text-4xl font-bold mb-4 text-primary">ุฃุณุงุณูุงุช ุณูุงูุฉ ุงูุบุฐุงุก</h2>
            <p class="max-w-3xl mx-auto text-lg mb-12 text-gray-600">ุณูุงูุฉ ุงูุบุฐุงุก ููุณุช ูุฌุฑุฏ ูุธุงูุฉุ ุจู ูู ุนูู ููููุฌูุฉ ูุญูุงูุฉ ุตุญุฉ ุนููุงุฆูุง ูุณูุนุฉ ุนูุงูุชูุง ุงูุชุฌุงุฑูุฉ. ููู ุงููุฎุงุทุฑ ูู ุฎุท ุงูุฏูุงุน ุงูุฃูู.</p>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Biological Hazard Card -->
                <div class="card p-8">
                    <div class="text-5xl mb-4">๐ฆ</div>
                    <h3 class="text-2xl font-bold mb-3 text-primary">ุงููุฎุงุทุฑ ุงูุจููููุฌูุฉ</h3>
                    <p class="text-gray-600">ูุงุฆูุงุช ุญูุฉ ุฏูููุฉ ูุซู ุงูุจูุชูุฑูุง ูุงูููุฑูุณุงุช. ูุซุงู: ุจูุชูุฑูุง ุงูุณุงููููููุง ูู ุงูุฏุฌุงุฌ ุงูููุก ูุณุงูุฏููุชุด ุงููููุจุ ุฃู ุงูููุณุชูุฑูุง ูู ุซูุงุฌุงุช ุนุฑุถ ุงูุญูููุงุช.</p>
                </div>
                <!-- Chemical Hazard Card -->
                <div class="card p-8">
                    <div class="text-5xl mb-4">๐งช</div>
                    <h3 class="text-2xl font-bold mb-3 text-primary">ุงููุฎุงุทุฑ ุงูููููุงุฆูุฉ</h3>
                    <p class="text-gray-600">ููุงุฏ ููููุงุฆูุฉ ูููู ุฃู ุชููุซ ุงูุทุนุงู. ูุซุงู: ุจูุงูุง ููุงุฏ ุงูุชูุธูู ุนูู ุงูุฃููุงุจุ ุฃู ูุณุจุจุงุช ุงูุญุณุงุณูุฉ ูุซู ุงูุญููุจ ูุงูููุณุฑุงุช.</p>
                </div>
                <!-- Physical Hazard Card -->
                <div class="card p-8">
                    <div class="text-5xl mb-4">๐ฉ</div>
                    <h3 class="text-2xl font-bold mb-3 text-primary">ุงููุฎุงุทุฑ ุงูููุฒูุงุฆูุฉ</h3>
                    <p class="text-gray-600">ุฃุฌุณุงู ุบุฑูุจุฉ ูููู ุฃู ุชุฏุฎู ุงูุทุนุงู. ูุซุงู: ุดุธุงูุง ุฒุฌุงุฌุ ูุทุน ุจูุงุณุชููุ ุฃู ุดุนุฑุ ุฃู ุญุชู ุญุจุฉ ุจู ุบูุฑ ูุทุญููุฉ ูู ูุดุฑูุจ.</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Safe Food Journey -->
        <section id="journey" class="mb-24">
            <h2 class="text-4xl font-bold mb-4 text-center text-primary">ุฑุญูุฉ ุงูุทุนุงู ุงูุขูู</h2>
            <p class="max-w-3xl mx-auto text-lg mb-12 text-center text-gray-600">ูุชุทูุจ ุถูุงู ุณูุงูุฉ ุงูุบุฐุงุก ุงูุชุญูู ูู ูู ุฎุทูุฉ ููุฑ ุจูุง ุงูุทุนุงู ุฏุงุฎู ุงููููู. ุงุณุชูุดู ูู ูุฑุญูุฉ ููุนุฑูุฉ ุงูููุงุฑุณุงุช ุงูุฃุณุงุณูุฉ ููุชุญูู ูู ุงููุฎุงุทุฑ.</p>
            <div class="w-full max-w-4xl mx-auto">
                <div id="journey-steps" class="flex items-center justify-center space-x-2 md:space-x-4 rtl:space-x-reverse">
                    <!-- Steps will be generated by JS -->
                </div>
                <div id="journey-content" class="mt-8 card p-8 min-h-[200px]">
                    <!-- Content will be updated by JS -->
                </div>
            </div>
        </section>

        <!-- Section 3: HACCP -->
        <section id="haccp" class="mb-24">
            <h2 class="text-4xl font-bold mb-4 text-center text-primary">ูุธุงู ุงููุงุณุจ (HACCP) ูู ุงูููุงุฑุณุฉ</h2>
            <p class="max-w-3xl mx-auto text-lg mb-12 text-center text-gray-600">ุงููุงุณุจ ูู ูุธุงู ููุงุฆู ูุนููู ูุชุญุฏูุฏ ุงููุฎุงุทุฑ ูุงูุชุญูู ูููุง. ุฅูู ูููููุง ูู ุงูููุงุฑุณุงุช ุงูุนุงูุฉ ุฅูู ุงูุชุญูู ุงูุฏููู ูู ุงูุนูููุงุช ูููุน ุงููุดุงูู ูุจู ุญุฏูุซูุง.</p>
            
            <div class="bg-white rounded-xl shadow-lg p-8 mb-12">
                <h3 class="text-2xl font-bold text-center mb-6 text-primary">ูุจุงุฏุฆ ุงููุงุณุจ ุงูุณุจุนุฉ</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 text-center">
                    <!-- HACCP Principles will be generated by JS -->
                </div>
            </div>
            
            <div id="haccp-details" class="mt-4 p-6 bg-gray-50 rounded-lg min-h-[100px] text-center text-lg text-gray-700 hidden"></div>

            <div class="grid lg:grid-cols-2 gap-12 items-start">
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-6 text-primary">ูุณุชููุงุช ุงูุชุญูู ูู ุงููุฎุงุทุฑ</h3>
                    <p class="mb-6 text-gray-600">ูููู ูุธุงู ุฅุฏุงุฑุฉ ุณูุงูุฉ ุงูุบุฐุงุก ุจุดูู ูุงููุ ูู ุงูููู ุงูุชูููุฒ ุจูู ุซูุงุซุฉ ุฃููุงุน ูู ุชุฏุงุจูุฑ ุงูุชุญูู. ุงููุฑ ุนูู ูู ููุน ููุนุฑูุฉ ุงููุฒูุฏ.</p>
                    <div id="control-tabs" class="flex border-b">
                        <!-- Control tabs will be generated by JS -->
                    </div>
                    <div id="control-content" class="mt-6">
                        <!-- Control content will be updated by JS -->
                    </div>
                </div>
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-6 text-primary">ููุทูุฉ ุงูุฎุทุฑ ุงูุญุฑุงุฑู</h3>
                    <p class="mb-6 text-gray-600">ูู ูุทุงู ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ ุงูุฐู ุชููู ููู ุงูุจูุชูุฑูุง ุจุณุฑุนุฉ ($5^{\circ}C$ - $63^{\circ}C$). ุงูุญูุงุธ ุนูู ุงูุทุนุงู ุฎุงุฑุฌ ูุฐุง ุงููุทุงู ูู ููุทุฉ ุชุญูู ุญุฑุฌุฉ.</p>
                    <div class="chart-container">
                        <canvas id="tempDangerZoneChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Management & Compliance -->
        <section id="management" class="mb-24">
            <h2 class="text-4xl font-bold mb-4 text-center text-primary">ุงูุฅุฏุงุฑุฉ ูุงูุงูุชุซุงู</h2>
            <p class="max-w-3xl mx-auto text-lg mb-12 text-center text-gray-600">ุงูุฅุฌุฑุงุกุงุช ุงููุนุงูุฉ ุชุชุทูุจ ูุธุงููุง ุฅุฏุงุฑููุง ููููุง. ูุถูู ุฅุทุงุฑ ISO 22000 ูุงูุงูุชุซุงู ูููุงุฆุญ ุงููุญููุฉ ุชุทุจูู ุณูุงูุฉ ุงูุบุฐุงุก ุจุดูู ูุณุชูุฑ ูููุซูู.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-primary mb-3">ุฏูุฑ ุงูููุงุฏุฉ (ISO 22000)</h3>
                    <p class="text-gray-600">ุงูุชุฒุงู ุงูุฅุฏุงุฑุฉ ุงูุนููุง ูู ุงููุญุฑู ุงูุฃุณุงุณู ูููุธุงูุ ููุธูุฑ ูู ุฎูุงู ุชูููุฑ ุงูููุงุฑุฏุ ูุถุน ุงูุณูุงุณุงุชุ ูุงูููุงุฏุฉ ุจุงููุฏูุฉ.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-primary mb-3">ุฏูุฑุฉ PDCA ููุชุญุณูู</h3>
                    <p class="text-gray-600">ุฎุทุท (Plan)ุ ููุฐ (Do)ุ ุชุญูู (Check)ุ ุชุตุฑู (Act). ูู ุฏูุฑุฉ ูุณุชูุฑุฉ ูุถูุงู ุชุญุณูู ุฃุฏุงุก ุณูุงูุฉ ุงูุบุฐุงุก ุจุงุณุชูุฑุงุฑ.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-primary mb-3">ุงูุงูุชุซุงู ุงููุงูููู (NFSA)</h3>
                    <p class="text-gray-600">ุงูุงูุชุฒุงู ุจูุชุทูุจุงุช ุงูููุฆุฉ ุงูููููุฉ ูุณูุงูุฉ ุงูุบุฐุงุก ูู ูุตุฑ ููุณ ุงุฎุชูุงุฑููุงุ ุจู ูู ุดุฑุท ูุงูููู ูุญูุงูุฉ ุงููุณุชููู ูุงูุนูู ุจุดูู ุดุฑุนู.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-primary mb-3">ุงูุชุชุจุน (Traceability)</h3>
                    <p class="text-gray-600">ูุธุงู ูุณูุญ ุจุชุชุจุน ุงูููููุงุช "ุฎุทูุฉ ููุฎูู" (ูู ุงูููุฑุฏ) ู"ุฎุทูุฉ ููุฃูุงู" (ุฅูู ุงูููุชุฌ ุงูููุงุฆู) ููู ุญููู ูุฅุฏุงุฑุฉ ุงูุฃุฒูุงุช.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-primary mb-3">ุฅุฏุงุฑุฉ ุงูุฃุฒูุงุช</h3>
                    <p class="text-gray-600">ูุฌูุฏ ุฎุทุฉ ููุชูุจุฉ ููุฎุชุจุฑุฉ ููุณุญุจ ูุงูุงุณุชุฑุฌุงุน ุถุฑูุฑู ููุชุนุงูู ูุน ุฃู ุญูุงุฏุซ ุณูุงูุฉ ุบุฐุงุก ุจุดูู ูุนุงู ูุณุฑูุน.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-primary mb-3">ุงูุชุฏููู ุงูุฏุงุฎูู</h3>
                    <p class="text-gray-600">ูุญุต ุฐุงุชู ููููุฌู ููุชุฃูุฏ ูู ุฃู ุงููุธุงู ุงููุทุจู ุนูู ุฃุฑุถ ุงููุงูุน ูุชูุงูู ูุน ุงูุฎุทุท ูุงูุณูุงุณุงุช ุงูููุถูุนุฉ.</p>
                </div>
            </div>
        </section>

        <!-- Section 5: Tools -->
        <section id="tools" class="mb-16">
            <h2 class="text-4xl font-bold mb-4 text-center text-primary">ุฃุฏูุงุชู ุงูููููุฉ</h2>
            <p class="max-w-3xl mx-auto text-lg mb-12 text-center text-gray-600">ุญููู ูุนุฑูุชู ุฅูู ููุงุฑุณุฉ. ุงุณุชุฎุฏู ูุฐู ุงูุฃุฏูุงุช ุงูุชูุงุนููุฉ ูุชูููู ูููู ูุชุทุจูู ูุนุงููุฑ ุงูุณูุงูุฉ ูู ุนููู ุงููููู.</p>
            <div class="grid lg:grid-cols-5 gap-8">
                <div class="lg:col-span-3 card p-8">
                    <h3 class="text-2xl font-bold mb-6 text-primary">ุงุฎุชุจุฑ ูุนูููุงุชู</h3>
                    <div id="quiz-container">
                        <div id="quiz-question" class="text-xl mb-4"></div>
                        <div id="quiz-options" class="space-y-3 mb-6"></div>
                        <button id="quiz-next" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-opacity-90 transition">ุงูุณุคุงู ุงูุชุงูู</button>
                        <div id="quiz-result" class="text-2xl font-bold mt-4"></div>
                    </div>
                </div>
                <div class="lg:col-span-2 card p-8">
                    <h3 class="text-2xl font-bold mb-6 text-primary">ูุงุฆูุฉ ุงูุชุญูู ุงูููููุฉ</h3>
                    <div id="checklist-container" class="space-y-4">
                        <!-- Checklist items will be generated by JS -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-6 py-8 text-center">
            <img src="https://res.cloudinary.com/dvqik0oco/image/upload/v1753625098/logo2-02_black_emfhdj.png" alt="ุดุนุงุฑ Right Advisor" class="h-16 mx-auto mb-4 filter invert">
            <p>ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุณูุงูุฉ ุงูุบุฐุงุก ููุฏู ูู <span class="font-bold">Right Advisor</span> ูุงุณุชุดุงุฑุงุช ุณูุงูุฉ ุงูุบุฐุงุก.</p>
            <p class="mt-2 text-sm text-gray-400">ูุณุชูุญู ูู ูุนุงููุฑ Codex, ISO 22000, ูุชุดุฑูุนุงุช ุงูููุฆุฉ ุงูููููุฉ ูุณูุงูุฉ ุงูุบุฐุงุก.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }
                });
            });

            const journeyData = [
                {
                    title: "ุงูุงุณุชูุงู",
                    content: "ููุทุฉ ุงูุชุญูู ุงูุฃููู. ูุฌุจ ูุญุต ุฌููุน ุงูููุงุฏ ุนูุฏ ูุตูููุง. ุชุฃูุฏ ูู ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ ุงูุตุญูุญุฉ (ูุจุฑูุฏ โค 5ยฐCุ ูุฌูุฏ โค -18ยฐC)ุ ุณูุงูุฉ ุงูุนุจูุงุชุ ูุชูุงุฑูุฎ ุงูุตูุงุญูุฉ. ุชุนุงูู ููุท ูุน ููุฑุฏูู ูุนุชูุฏูู."
                },
                {
                    title: "ุงูุชุฎุฒูู",
                    content: "ุงูุชุฎุฒูู ุงูุณููู ูููุน ููู ุงูุจูุชูุฑูุง. ุทุจู ูุงุนุฏุฉ (FIFO). ุงูุตู ุชูุงููุง ุจูู ุงูุฃุทุนูุฉ ุงูููุฆุฉ ูุงูุฌุงูุฒุฉ ููุฃูู (RTE)ุ ุญูุซ ุชูุถุน ุงูุฃุทุนูุฉ ุงูุฌุงูุฒุฉ ูู ุงูุฑููู ุงูุนูููุฉ. ุบุทูู ูุณููู ุฌููุน ุงูุฃุทุนูุฉ."
                },
                {
                    title: "ุงูุชุญุถูุฑ",
                    content: "ูุฐู ุงููุฑุญูุฉ ูููุฆุฉ ุจูุฑุต ุงูุชููุซ ุงููุชุจุงุฏู. ุงุณุชุฎุฏู ุฃููุงุญ ุชูุทูุน ูุฃุฏูุงุช ูุฎุชููุฉ (ูุธุงู ุฃููุงู) ููุฃุทุนูุฉ ุงูููุฆุฉ ูุงูุฌุงูุฒุฉ. ูุธู ูุทูุฑ ุนุตุง ุชุจุฎูุฑ ุงูุญููุจ ุจูู ูู ุงุณุชุฎุฏุงู ููุชุญูู ูู ูุณุจุจุงุช ุงูุญุณุงุณูุฉ."
                },
                {
                    title: "ุงูุชูุฏูู",
                    content: "ุญุงูุธ ุนูู ุฏุฑุฌุงุช ุญุฑุงุฑุฉ ุงูุฃุทุนูุฉ ุงููุนุฑูุถุฉ (ุณุงุฎูุฉ > 63ยฐCุ ุจุงุฑุฏุฉ < 5ยฐC). ุงุญูู ุงูุทุนุงู ุงููุนุฑูุถ ุจุญูุงุฌุฒ ุฒุฌุงุฌูุฉ ูููุฑ ุฃุฏูุงุช ุชูุฏูู ูุธููุฉ ููููุตูุฉ ููู ุตูู."
                }
            ];

            const journeyStepsContainer = document.getElementById('journey-steps');
            const journeyContentContainer = document.getElementById('journey-content');
            
            journeyData.forEach((item, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'step flex-1 flex flex-col md:flex-row items-center cursor-pointer group';
                stepElement.innerHTML = `
                    <div class="step-circle w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-gray-300 flex items-center justify-center font-bold text-lg transition-colors duration-300 group-hover:bg-accent">${index + 1}</div>
                    <span class="text-sm md:text-base md:mr-2 mt-2 md:mt-0 font-semibold transition-colors duration-300 group-hover:text-secondary">${item.title}</span>
                `;
                
                if (index < journeyData.length - 1) {
                    const connector = document.createElement('div');
                    connector.className = 'step-connector transition hidden md:block';
                    stepElement.appendChild(connector);
                }

                stepElement.addEventListener('click', () => {
                    updateJourneyContent(index);
                });
                journeyStepsContainer.appendChild(stepElement);
            });

            function updateJourneyContent(index) {
                journeyContentContainer.innerHTML = `
                    <h3 class="text-2xl font-bold mb-4 text-primary">${journeyData[index].title}</h3>
                    <p class="text-gray-700 text-lg">${journeyData[index].content}</p>
                `;
                
                document.querySelectorAll('#journey-steps .step').forEach((step, i) => {
                    if (i === index) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                });
            }
            updateJourneyContent(0);

            const haccpPrinciples = [
                { name: "ุชุญููู ุงููุฎุงุทุฑ", detail: "ุชุญุฏูุฏ ุฌููุน ุงููุฎุงุทุฑ ุงูุจููููุฌูุฉุ ุงูููููุงุฆูุฉุ ูุงูููุฒูุงุฆูุฉ ุงููุญุชููุฉ ูู ูู ุฎุทูุฉ." },
                { name: "ุชุญุฏูุฏ CCPs", detail: "ุชุญุฏูุฏ ููุงุท ุงูุชุญูู ุงูุญุฑุฌุฉ ุงูุชู ูููู ุนูุฏูุง ููุน ุฃู ุงููุถุงุก ุนูู ุงูุฎุทุฑ." },
                { name: "ูุถุน ุงูุญุฏูุฏ ุงูุญุฑุฌุฉ", detail: "ุชุญุฏูุฏ ููู ูุตูู ูุฏููุง (ุญุฑุงุฑุฉุ ููุช) ูุฌุจ ุงูุงูุชุฒุงู ุจูุง." },
                { name: "ุฅูุดุงุก ุงููุฑุงูุจุฉ", detail: "ูุถุน ูุธุงู ููุฑุตุฏ ุงูููุชุธู ููุญุฏูุฏ ุงูุญุฑุฌุฉ ูู ูู CCP." },
                { name: "ุชุญุฏูุฏ ุงูุฅุฌุฑุงุกุงุช ุงูุชุตุญูุญูุฉ", detail: "ุชุญุฏูุฏ ุงูุฅุฌุฑุงุกุงุช ุงูุชู ูุฌุจ ุงุชุฎุงุฐูุง ุนูุฏ ุฎุฑูุฌ CCP ุนู ุญุฏูุฏูุง." },
                { name: "ูุถุน ุฅุฌุฑุงุกุงุช ุงูุชุญูู", detail: "ุงูุชุฃูุฏ ูู ุฃู ูุธุงู ุงููุงุณุจ ูุนูู ุจูุนุงููุฉ (ูุฑุงุฌุนุฉุ ุงุฎุชุจุงุฑุงุช)." },
                { name: "ุฅูุดุงุก ุงูุชูุซูู", detail: "ุงูุงุญุชูุงุธ ุจุณุฌูุงุช ุฏูููุฉ ูุฌููุน ุงูุฃูุดุทุฉ ุงููุชุนููุฉ ุจุงููุธุงู." },
            ];
            const haccpContainer = document.querySelector('#haccp .grid');
            const haccpDetails = document.getElementById('haccp-details');
            haccpPrinciples.forEach((p, index) => {
                const principleDiv = document.createElement('div');
                principleDiv.className = 'p-2';
                principleDiv.innerHTML = `<div class="bg-white rounded-lg p-3 cursor-pointer h-full flex flex-col justify-center items-center shadow hover:shadow-md transition">
                    <div class="bg-primary text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-xl mb-2">${index+1}</div>
                    <h4 class="font-semibold text-sm">${p.name}</h4>
                </div>`;
                principleDiv.addEventListener('click', () => {
                    haccpDetails.textContent = p.detail;
                    haccpDetails.classList.remove('hidden');
                });
                haccpContainer.appendChild(principleDiv);
            });


            const controlData = {
                PRP: { title: "PRPs", fullName: "ุจุฑุงูุฌ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ", content: "ูู ุงูุฃุณุงุณูุงุช ูุงูููุงุฑุณุงุช ุงูุตุญูุฉ ุงูุฌูุฏุฉ (GHP) ุงูุชู ุชุฎูู ุจูุฆุฉ ูุธููุฉ ูุขููุฉ ุจุดูู ุนุงู. ูุซุงู: ุจุฑูุงูุฌ ุงููุธุงูุฉ ุงูุดุฎุตูุฉุ ุจุฑูุงูุฌ ููุงูุญุฉ ุงูุขูุงุช. ูุดููุง ูุฒูุฏ ุงูุฎุทุฑ ุงูุนุงู ูููู ูุง ูุนูู ููุชุฌูุง ุบูุฑ ุขูู ููุฑูุง." },
                OPRP: { title: "OPRPs", fullName: "ุงูุจุฑุงูุฌ ุงูุชุดุบูููุฉ ุงููุณุจูุฉ", content: "ูู 'ุงูุถูุงุจุท ุงููุนุฒุฒุฉ' ุงูุชู ุชุชุญูู ูู ุฎุทุฑ ูุจูุฑ ูููููุง ููุณุช CCP. ูุซุงู ุนููู: ุฅุฌุฑุงุก ุชุทููุฑ ุนุตุง ุชุจุฎูุฑ ุงูุญููุจ ุจูู ุงุณุชุฎุฏุงู ุงูุญููุจ ุงูุจูุฑู ูุญููุจ ุงูุดููุงู ููุชุญูู ูู ูุณุจุจุงุช ุงูุญุณุงุณูุฉ." },
                CCP: { title: "CCPs", fullName: "ููุงุท ุงูุชุญูู ุงูุญุฑุฌุฉ", content: "ูู 'ููุงุท ุงูุฅููุงู ุงููุทูู'. ุฎุทูุฉ ุฅุฐุง ููุฏุช ุงูุณูุทุฑุฉ ุนูููุงุ ุณูุคุฏู ุฐูู ูุจุงุดุฑุฉ ุฅูู ููุชุฌ ุบูุฑ ุขูู. ูุซุงู: ุงูุทูู ูุฏุฑุฌุฉ ุญุฑุงุฑุฉ ูุนููุฉ ูููุถุงุก ุนูู ุงูุจูุชูุฑูุงุ ุฃู ุงูุชุจุฑูุฏ ุงูุณุฑูุน." }
            };
            const controlTabsContainer = document.getElementById('control-tabs');
            const controlContentContainer = document.getElementById('control-content');
            Object.keys(controlData).forEach((key, index) => {
                const tab = document.createElement('button');
                tab.className = 'control-tab flex-1 py-2 px-1 text-center font-semibold border-b-2 transition';
                tab.textContent = controlData[key].title;
                tab.dataset.target = key;
                if(index === 0) tab.classList.add('active', 'border-primary', 'text-primary');
                else tab.classList.add('border-transparent', 'text-gray-500');

                tab.addEventListener('click', () => {
                    document.querySelectorAll('.control-tab').forEach(t => {
                        t.classList.remove('active', 'border-primary', 'text-primary');
                        t.classList.add('border-transparent', 'text-gray-500');
                    });
                    tab.classList.add('active', 'border-primary', 'text-primary');
                    updateControlContent(key);
                });
                controlTabsContainer.appendChild(tab);
            });
            function updateControlContent(key) {
                const data = controlData[key];
                controlContentContainer.innerHTML = `
                    <h4 class="text-xl font-bold text-primary mb-2">${data.fullName}</h4>
                    <p class="text-gray-600">${data.content}</p>
                `;
            }
            updateControlContent('PRP');

            const tempCtx = document.getElementById('tempDangerZoneChart').getContext('2d');
            new Chart(tempCtx, {
                type: 'bar',
                data: {
                    labels: ['ุงูุชุฌููุฏ', 'ุงูุชุจุฑูุฏ ุงูุขูู', 'ููุทูุฉ ุงูุฎุทุฑ', 'ุงูุทูู/ุงูุญูุธ ุงูุณุงุฎู'],
                    datasets: [{
                        label: 'ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ',
                        data: [
                            [-18, 0],  // ุงูุชุฌููุฏ
                            [0, 5],    // ุงูุชุจุฑูุฏ
                            [5, 63],   // ุงูุฎุทุฑ
                            [63, 75]   // ุงูุณุงุฎู
                        ],
                        backgroundColor: [
                            '#3B82F6', 
                            '#10B981', 
                            '#EF4444',
                            '#F97316'
                        ],
                        borderColor: '#FFFFFF',
                        borderWidth: 2,
                        barPercentage: 1.0,
                        categoryPercentage: 1.0,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            min: -20,
                            max: 80,
                            ticks: {
                                callback: function(value) {
                                    return value + 'ยฐC'
                                }
                            },
                            title: {
                                display: true,
                                text: 'ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ (ูุฆููุฉ)'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: true,
                            callbacks: {
                                label: function(context) {
                                    return `${context.raw[0]}ยฐC to ${context.raw[1]}ยฐC`;
                                }
                            }
                        }
                    }
                }
            });
            
            const quizData = [
                {
                    question: "ููุทูุฉ ุงูุฎุทุฑ ุงูุญุฑุงุฑู ุงูุชู ุชููู ูููุง ุงูุจูุชูุฑูุง ุจุณุฑุนุฉ ูู:",
                    options: ["ุชุญุช 5ยฐC", "ุจูู 5ยฐC ู 63ยฐC", "ููู 63ยฐC"],
                    answer: "ุจูู 5ยฐC ู 63ยฐC"
                },
                {
                    question: "ูููุน ุงูุชููุซ ุงููุชุจุงุฏู ุจูุณุจุจุงุช ุงูุญุณุงุณูุฉ (ูุซู ุงูุญููุจ)ุ ูุฌุจ:",
                    options: ["ุดุทู ุฅุจุฑูู ุงูุชุจุฎูุฑ ุจุงููุงุก ููุท", "ุงุณุชุฎุฏุงู ุฅุจุฑูู ูููุตู ุฃู ุชูุธููู ูุชุทููุฑู ุฌูุฏูุง", "ูุง ุฏุงุนู ูููููุ ุงูุญุฑุงุฑุฉ ุชูุชู ุงูุญุณุงุณูุฉ"],
                    answer: "ุงุณุชุฎุฏุงู ุฅุจุฑูู ูููุตู ุฃู ุชูุธููู ูุชุทููุฑู ุฌูุฏูุง"
                },
                {
                    question: "ูุงุฐุง ุชุนูู CCP ูู ูุธุงู ุงููุงุณุจุ",
                    options: ["ููุทุฉ ุชูุธูู ุญุฑุฌุฉ", "ููุทุฉ ุชุญูู ุญุฑุฌุฉ", "ุนูููุฉ ุทูู ูุณุชูุฑุฉ"],
                    answer: "ููุทุฉ ุชุญูู ุญุฑุฌุฉ"
                },
                {
                    question: "ุนูุฏ ุงุณุชูุงู ุดุญูุฉ ุญููุจ ูุจุฑุฏุฉุ ูุง ูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงููุตูู ุงูููุจููุฉุ",
                    options: ["10ยฐC", "0ยฐC", "5ยฐC"],
                    answer: "5ยฐC"
                }
            ];
            let currentQuestionIndex = 0;
            let score = 0;
            const quizContainer = document.getElementById('quiz-container');
            const questionEl = document.getElementById('quiz-question');
            const optionsEl = document.getElementById('quiz-options');
            const nextBtn = document.getElementById('quiz-next');
            const resultEl = document.getElementById('quiz-result');

            function loadQuiz() {
                resultEl.textContent = '';
                nextBtn.textContent = 'ุงูุณุคุงู ุงูุชุงูู';
                nextBtn.classList.remove('bg-secondary');
                nextBtn.classList.add('bg-primary');

                const currentQuestion = quizData[currentQuestionIndex];
                questionEl.textContent = currentQuestion.question;
                optionsEl.innerHTML = '';
                currentQuestion.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.className = 'block w-full text-right p-3 bg-gray-100 rounded-lg hover:bg-gray-200 transition';
                    button.onclick = () => selectAnswer(button, option, currentQuestion.answer);
                    optionsEl.appendChild(button);
                });
                nextBtn.style.display = 'none';
            }

            function selectAnswer(button, selected, correct) {
                Array.from(optionsEl.children).forEach(btn => {
                    btn.disabled = true;
                    if (btn.textContent === correct) {
                        btn.classList.remove('bg-gray-100');
                        btn.classList.add('bg-green-200', 'border', 'border-green-400');
                    }
                });

                if (selected === correct) {
                    score++;
                } else {
                    button.classList.remove('bg-gray-100');
                    button.classList.add('bg-red-200', 'border', 'border-red-400');
                }
                nextBtn.style.display = 'block';
                if (currentQuestionIndex === quizData.length - 1) {
                    nextBtn.textContent = 'ุนุฑุถ ุงููุชูุฌุฉ';
                }
            }
            
            nextBtn.addEventListener('click', () => {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) {
                    loadQuiz();
                } else {
                    questionEl.textContent = 'ุงูุชูู ุงูุงุฎุชุจุงุฑ!';
                    optionsEl.innerHTML = '';
                    resultEl.innerHTML = `ูุชูุฌุชู: <span class="text-secondary font-bold">${score}</span> ูู ${quizData.length}`;
                    nextBtn.textContent = 'ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ';
                    nextBtn.classList.remove('bg-primary');
                    nextBtn.classList.add('bg-secondary');
                    nextBtn.onclick = () => {
                        currentQuestionIndex = 0;
                        score = 0;
                        loadQuiz();
                        nextBtn.onclick = nextQuestionHandler;
                    };
                }
            });

            const nextQuestionHandler = nextBtn.onclick;
            
            loadQuiz();
            
            const checklistData = [
                { text: "ุงุฑุชุฏุงุก ุฒู ูุธูู ููุงูู", checked: false },
                { text: "ูุญุต ุญุฑุงุฑุฉ ุงูุซูุงุฌุงุช ูุงููุฌูุฏุงุช", checked: false },
                { text: "ุงูุฃุณุทุญ ููุนุฏุงุช ุงูุจุงุฑูุณุชุง ูุธููุฉ ููุทูุฑุฉ", checked: false },
                { text: "ูุตู ุชุงู ุจูู ุงูููุก ูุงูุฌุงูุฒ", checked: false },
                { text: "ุฃุญูุงุถ ุบุณูู ุงูุฃูุฏู ูุฌูุฒุฉ", checked: false }
            ];
            const checklistContainer = document.getElementById('checklist-container');
            checklistData.forEach(item => {
                const label = document.createElement('label');
                label.className = 'flex items-center space-x-3 rtl:space-x-reverse cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition';
                label.innerHTML = `
                    <input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary">
                    <span class="text-gray-700">${item.text}</span>
                `;
                checklistContainer.appendChild(label);
            });
        });
    </script>
</body>
</html>
